CREATE EXTENSION IF NOT EXISTS CITEXT;

DROP TABLE IF EXISTS users;
DROP TABLE IF EXISTS tokens;

CREATE TABLE IF NOT EXISTS users (
  id SERIAL NOT NULL PRIMARY KEY ,
  username CITEXT NOT NULL ,
  email CITEXT NOT NULL UNIQUE ,
  password citext NOT NULL ,
  enabled BOOLEAN NOT NULL
);

CREATE TABLE IF NOT EXISTS tokens (
  user_id SERIAL NOT NULL PRIMARY KEY,
  token citext NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id)
);
